# config for calculating gene pair correlations

######################################################################################
####### The following arguments are for indicating file locations on your system #####
##########+############################################################################

top_directory: /groups/umcg-biogen/tmp02/ # a location above everything else
output_directory: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/output/ # this is where the final output and the intermediate files will be saved
singularity_path: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/wp3_extended.sif # location of singularity image with all installed software
singularity_path_downstreamer: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/pascalx_downstreamer.sif # location of singularity image used for downstreamer
snakefile_dir: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/ # location of this file and the snakefile
seurat_dir: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/L1/ # location of seurat input file
donor_list_path: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/2023-04-12-Mathys2019_EX_donor_list.tsv # path to donor list of interest
sum_stats_path: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/Downstreamer/summary_statistics/schizophrenia_ripke2014_harm_jan.snppval.txt.gz # path to gwas summary statistics
annotation_path: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/Downstreamer/human_b37/genes_Ensembl94.txt # pascalx annotation file path
depict2_path: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/Downstreamer/depict2/Downstreamer-2.2-SNAPSHOT/Downstreamer.jar # path to depict 2
human_b37: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/Downstreamer/human_b37/genes_Ensembl94_protein_coding.txt
covariates: /groups/umcg-biogen/tmp02/output/2022-09-01-scMetaBrainConsortium/2023-11-22-Workgroup4-GeneNetworks/Anoek-CalcCorrMatrix/input/Downstreamer/medianGwasSignal.txt

##############################################################################################################
##### The following arguments are common parameters that may need to be changed depending on the dataset #####
##############################################################################################################

cluster_time: {0: "05:59:00", 1: "23:59:00", 2: "6-23:59:00"} ### Options for dynamic time usage for cluster submissions of jobs

create_donor:
  create_donor_memory: 16 ### The amount of memory (GB) used per thread for the create_donor step
  create_donor_threads: 1 ### The number threads that will be used for the create_donor step
  create_donor_time: 0 ### The time setting to use

process_donor:
  process_donor_memory: 16 ### The amount of memory (GB) used per thread for the process_donor step
  process_donor_threads: 1 ### The number threads that will be used for the process_donor step
  process_donor_time: 2 ### The time setting to use

aggregate_metrics:
  aggregate_metrics_memory: 16 ### The amount of memory (GB) used per thread for the aggregate_metrics step
  aggregate_metrics_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  aggregate_metrics_time: 2 ### The time setting to use

quality_control:
  quality_control_memory: 16 ### The amount of memory (GB) used per thread for the aggregate_metrics step
  quality_control_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  quality_control_time: 2 ### The time setting to use

create_matrix:
  create_matrix_memory: 32 ### The amount of memory (GB) used per thread for the create_matrix step
  create_matrix_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  create_matrix_time: 2 ### The time setting to use

aggregate_gwas_genes:
  aggregate_gwas_genes_memory: 16 ### The amount of memory (GB) used per thread for the create_matrix step
  aggregate_gwas_genes_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  aggregate_gwas_genes_time: 2 ### The time setting to use

eigendecompose:
  eigendecompose_memory: 32 ### The amount of memory (GB) used per thread for the create_matrix step
  eigendecompose_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  eigendecompose_time: 2 ### The time setting to use

reformat_eigenVec:
  reformat_eigenVec_memory: 16 ### The amount of memory (GB) used per thread for the create_matrix step
  reformat_eigenVec_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  reformat_eigenVec_time: 2 ### The time setting to use

gene_prioritisation:
  gene_prioritisation_memory: 16 ### The amount of memory (GB) used per thread for the create_matrix step
  gene_prioritisation_threads: 1 ### The number threads that will be used for the aggregate_metrics step
  gene_prioritisation_time: 2 ### The time setting to use

##########################################################################
####### The following arguments are for information about your study #####
##########################################################################

cohort: 2023-04-12-Mathys2019 # ID of cohort, just as it is written in the wg3 file path
cell_type: EX # chosen cell type
gwas: schizophrenia_ripke2014

##############################################################################################
####### The following arguments are situational. You don't have to fill anything in here #####
##############################################################################################

gene_list_path: nan # path to gene list of interest.  
n_genes: 1000 # number of genes to perform correlation analysis on
method: 'pearson' # Correlation method
weight: True # Whether or not weighted correlation should be performed. Either 'weighted' or 'unweighted'
metadata: False # Whether to extract expression metadata. Either 'True' or 'False'
meta-analysis: ['mean','fishersz'] # Meta-analysis method used to combine correlation over donors. Either 'fishersz' or 'mean'
threads: 20 # Threads pascalx
rscol: 0 # gwas summary statistics gene id column number
pcol: 1 # gwas summary statistics pval column number 
window: 25000 # Window used by pascalx
